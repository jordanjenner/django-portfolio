{% load static %}

<div id="projects" class="section-flex">
  <div></div>
  <table class="projects-table">
    <thead>
      <tr>
        <th class="normal-table">
          Project Name
        </th>
        <th class="mobile-table">
          Projects
        </th>
        <th class="hide-first normal-table">
          Date Created
        </th>
        <th class="normal-table">
          Last Updated
        </th>
        <th class="normal-table">
          Language
        </th>
        <th class="normal-table">
          Size (kB)
        </th>
        <th class="normal-table">
          Live?
        </th>
      </tr>
    </thead>
    {% for project in projects %}
    <tr class="project-row normal-table">
      <td class="dt-field-padding">
      {% if project.is_private == False %}
        <a href="{{ project.repo_url }}" target="_blank">
          {% if not project.title %}
            {{ project.name }}
          {% else %}
            {{ project.title }}
          {% endif %}
        </a>
      {% else %}
        {% if not project.title %}
          {{ project.name }}
        {% else %}
          {{ project.title }}
        {% endif %}
      {% endif %}
      </td>
      <td class="hide-first dt-field-padding">
          {{ project.creation_date|date:"d/m/Y" }}
      </td>
      <td class="dt-field-padding">
        {{ project.last_updated|date:"d/m/Y" }}
      </td>
      <td class="dt-field-padding">
        {{ project.language }}
      </td>
      <td class="dt-field-padding">
        {{ project.size }}
      </td>
      <td class="dt-field-padding">
        {% if project.is_live == True %}
          <a href="{{ project.live_url }}" target="_blank">Yes</a>
        {% else %}
          No
        {% endif %}
      </td>
    </tr>
    {% endfor %}
    {% for project in projects %}
    <tr class="project-row mobile-table">
      <td>
        <div class="collapsible">
          <p class="collapsible-text">{{ project.name }}</p><i class="fas fa-chevron-down icon-margin-left"></i>
        </div>
        <div class="content">
          <div class="project-info">
            <div class="project-info-row">
              <p class="project-info-text">Created</p>
              <p class="project-info-text">{{ project.creation_date|date:"d/m/Y" }}</p>
            </div>
            <div class="project-info-row">
              <p class="project-info-text">Last updated</p>
              <p class="project-info-text">{{ project.creation_date|date:"d/m/Y" }}</p>
            </div>
            <div class="project-info-row">
              <p class="project-info-text">Language</p>
              <p class="project-info-text">{{ project.language }}</p>
            </div>
            {% if project.is_private == False %}
            <div class="project-info-row">
              <p class="project-info-text">Repo</p>
              <a class="project-info-text" href="{{ project.repo_url }}">{{ project.repo_url }}</a>
            </div>
            {% endif %}
            {% if project.is_live == True %}
            <div class="project-info-row">
              <p class="project-info-text">Live Link</p>
              <p class="project-info-text"><a href="{{ project.live_url }}">{{ project.live_url }}</a></p>
            </div>
            {% endif %}
          </div>
        </div>
      </td>
    </tr>
    {% endfor %}
  </table>
  <div></div>
</div>